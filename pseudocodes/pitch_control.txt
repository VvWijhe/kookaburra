## Pseudo code pitch control

loop 20 hertz
	(other code)
	
	set PID servo parameters
	
	if angle > maxAngle or angle < minAngle then
		## Measure error
		if angle > maxAngle then
			error = maxAngle - angle
		else
			error = minAngle - angle
		end if
		
		## Calculate the control value
		controlValue = PID servo calculate error
		
		## Saturation
		if controlValue > 2 then
			controlValue = 2
		else if controlValue < 1 then
			controlValue = 1
		end if
		
		## Set the servo PWM
		## 2ms = 180ยบ, 1 ms = 0ยบ, 1.5 ms = 90ยบ
		set PWM (controlValue + 1 ms)
	end if
end loop
